#############################################################################
# Makefile for building: ../bin/SpotMini_occbool_devops_19.04.1001
# Generated by bySHIFT
# Project:  zer
# Template: app
# Command:
#############################################################################

MAKEFILE      = Makefile

EQ            = =

####### Compiler, tools and options
## Compiler
gCC            = gcc
gCXX           = g++
cCC            = clang
cCXX           = clang++

CC            = gcc
CXX           = g++
LINK          = g++
DEFINES       = -D_GLIBCXX_USE_CXX11_ABI=0 -DSTATIC_CONCPP -DCPPCONN_LIB_BUILD -DAMQP_STATIC
CFLAGS        = -pipe -O2 -Wall -W -fPIC $(DEFINES)
CXXFLAGS      = -pipe -O3 -std=gnu++11 -Wall -W -fPIC -Wno-unused-function $(DEFINES)
INCPATH       = -I./zer -I. -I../__thirdparty/MySQL_Connector_C++/mysql-connector-c++-8.0.15-linux-glibc2.12-x86-64bit/include -I../__thirdparty/RabbitMQ_C/rabbitmq-c-0.9.0/librabbitmq -I./zer/include
DEL_FILE      = rm -f
CHK_DIR_EXISTS= test -d
MKDIR         = mkdir -p
COPY          = cp -f
COPY_FILE     = cp -f
COPY_DIR      = cp -f -R
INSTALL_FILE  = install -m 644 -p
INSTALL_PROGRAM = install -m 755 -p
INSTALL_DIR   = cp -f -R
DEL_FILE      = rm -f
SYMLINK       = ln -f -s
DEL_DIR       = rmdir
MOVE          = mv -f
TAR           = tar -cf
COMPRESS      = gzip -9f
DISTNAME      = 
LFLAGS        = -ccc-gcc-name g++
LIBS          = $(SUBLIBS) -L../__thirdparty/MySQL_Connector_C++/mysql-connector-c++-8.0.15-linux-glibc2.12-x86-64bit/lib64 -L../__thirdparty/RabbitMQ_C/rabbitmq-c-0.9.0/build/librabbitmq -lrabbitmq -lmysqlcppconn-static -lssl -lcrypto -lpthread -ldl -lstdc++
AR            = ar cqs
RANLIB        = 
SED           = sed
STRIP         = strip

####### Output directory

OBJECTS_DIR   = ./obj/

####### Files
SRC_PATH= ./zer/
DIRS=$(shell find $(SRC_PATH) -maxdepth 3 -type d) 
SRCS=$(foreach dir, $(DIRS), $(wildcard $(dir)/*.cpp))  

OBJECTS        = $(addprefix $(OBJECTS_DIR), $(patsubst %.cpp,%.o,$(SRCS)))

DESTDIR       = ../bin/
TARGET        = ../bin/SpotMini_occbool_devops_19.04.1001

# 判断生成目录是否存在，不存在就生成
$(foreach dir, $(DIRS), $(shell if [ ! -d $(OBJECTS_DIR)$(dir) ];then if [ $(dir) != ./obj/ ] ; then mkdir -p $(OBJECTS_DIR)$(dir); fi; fi))

first: all
####### Build rules

../bin/SpotMini_occbool_devops_19.04.1001: $(OBJECTS)
	@test -d ../bin/ || mkdir -p ../bin/
	$(LINK) -o $(TARGET) $(OBJECTS) $(LIBS)


all: Makefile ../bin/SpotMini_occbool_devops_19.04.1001

clean:
	-$(DEL_FILE) $(OBJECTS)
	-$(DEL_FILE) *~ core *.core

####### Compile

$(OBJECTS_DIR)%.o:%.cpp
	$(CXX) -c $(CXXFLAGS) $(INCPATH) $^ -o $@
